package com.becb.api.service;

import com.amazonaws.services.s3.AmazonS3;
import com.becb.api.controller.PointController;
import com.becb.api.dto.PointDto;
import com.becb.api.service.file.AmazonS3Config;
import org.json.JSONException;
import org.json.JSONObject;
import org.junit.jupiter.api.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.test.context.junit4.SpringRunner;
import static org.junit.jupiter.api.Assertions.*;

@RunWith(SpringRunner.class)
@SpringBootTest
class PointServiceTest {

    @MockBean
    PointController pc;
    @MockBean
    private AmazonS3Config amazonS3Config;

    @MockBean
    private AmazonS3 amazonS3;

    @Autowired
    PointService pointService;
   @Test
   void getPointDtoFromJson() throws JSONException {
        PointDto pointDto = pointService.getPointDtoFromJson(new JSONObject(json));
        assertEquals(pointDto.getPointId(), "01HRD6ZVXMVBX0CHWC4S7Z4FTA");
   }
   private String json = "{ \"id\": 0,\"pointId\": \"01HRD6ZVXMVBX0CHWC4S7Z4FTA\",\"title\": \"King Sebastian Statue\" }";

   @Test
   void getPointDtoFromString() throws JSONException {
       PointDto pointDto = pointService.getPointDtoFromJson(new JSONObject(json2));
       assertEquals(pointDto.getPointId(), "01J08KG88ZER8S1MHMZR2MFGKD");
       assertFalse(pointDto.getChildren().isEmpty());
   }




    private String json2 = "{\"id\":0,\"pointId\":\"01J08KG88ZER8S1MHMZR2MFGKD\",\"title\":\" Catedral de Brasília\",\"description\":\"A Catedral Metropolitana de Brasília, também conhecida como Catedral de Nossa Senhora Aparecida, é uma obra icônica projetada pelo renomado arquiteto Oscar Niemeyer. Aqui estão algumas informações detalhadas sobre a catedral. A catedral é conhecida por sua estrutura hiperbolóide composta por 16 colunas de concreto, pesando 90 toneladas cada uma. As colunas são dispostas de forma que lembrem mãos voltadas para o céu. Vitral: O vitral da catedral foi criado por Marianne Peretti e é composto por 16 peças de fibra de vidro em tons de azul, verde, branco e marrom.\",\"latitude\":\"-15.7983843003026\",\"longitude\":\"-47.8755810574364\",\"audio\":\"audio/01J08KG88ZER8S1MHMZR2MFGKD_ia.mp3\",\"type\":\"0\",\"createTime\":\"2024-06-13T11:50:10\",\"aproved\":\"false\",\"language\":\"PT\",\"pointParent_id\":null,\"childrenPoints\":[\"01J1NCQT27H40N432XSXW8WBHD\",\"01J1NCQT27H40N432XSXW8WBHD\",\"01J1NCQT27H40N432XSXW8WBHD\",\"01J1NCQT27H40N432XSXW8WBHD\",\"01J1NCY4QQC9K12WVXW5JSKW0B\",\"01J1NCY4QQC9K12WVXW5JSKW0B\",\"01J1NCY4QQC9K12WVXW5JSKW0B\",\"01J1NCY4QQC9K12WVXW5JSKW0B\",\"01J1ND26VJTAY01YVGV03FYF95\",\"01J1ND26VJTAY01YVGV03FYF95\",\"01J1ND26VJTAY01YVGV03FYF95\",\"01J1ND26VJTAY01YVGV03FYF95\",\"01J1ND2ZK1Y59JFJ5EW13ZTVXY\",\"01J1ND2ZK1Y59JFJ5EW13ZTVXY\",\"01J1ND2ZK1Y59JFJ5EW13ZTVXY\",\"01J1ND2ZK1Y59JFJ5EW13ZTVXY\",\"01J1ND6WNBRZ38E1FVWF8HHP2R\",\"01J1ND6WNBRZ38E1FVWF8HHP2R\",\"01J1ND6WNBRZ38E1FVWF8HHP2R\",\"01J1ND6WNBRZ38E1FVWF8HHP2R\",\"01J1NGMY1TFV3WRBYZ286P4N9J\",\"01J1NGMY1TFV3WRBYZ286P4N9J\",\"01J1NGMY1TFV3WRBYZ286P4N9J\",\"01J1NGMY1TFV3WRBYZ286P4N9J\",\"01J1PQ9S97PQ4VTJF3EDSQQW3G\",\"01J1PQ9S97PQ4VTJF3EDSQQW3G\",\"01J1PQ9S97PQ4VTJF3EDSQQW3G\",\"01J1PQ9S97PQ4VTJF3EDSQQW3G\",\"01J1PQA771P42TQN46GJ9DWR5P\",\"01J1PQA771P42TQN46GJ9DWR5P\",\"01J1PQA771P42TQN46GJ9DWR5P\",\"01J1PQA771P42TQN46GJ9DWR5P\",\"01J1PQAP9X859QQTC2S2KW94D2\",\"01J1PQAP9X859QQTC2S2KW94D2\",\"01J1PQAP9X859QQTC2S2KW94D2\",\"01J1PQAP9X859QQTC2S2KW94D2\",\"01J1PQB3TC3SQTY5YF8PCF7P0W\",\"01J1PQB3TC3SQTY5YF8PCF7P0W\",\"01J1PQB3TC3SQTY5YF8PCF7P0W\",\"01J1PQB3TC3SQTY5YF8PCF7P0W\",\"01J1PQBWD7ZRZAXV7Y92RNMBKZ\",\"01J1PQBWD7ZRZAXV7Y92RNMBKZ\",\"01J1PQBWD7ZRZAXV7Y92RNMBKZ\",\"01J1PQBWD7ZRZAXV7Y92RNMBKZ\",\"01J1PQCHFE58WAT0JQ1NW11BWY\",\"01J1PQCHFE58WAT0JQ1NW11BWY\",\"01J1PQCHFE58WAT0JQ1NW11BWY\",\"01J1PQCHFE58WAT0JQ1NW11BWY\",\"01J1PQD1CSZKAGEE3DDSYQXJ91\",\"01J1PQD1CSZKAGEE3DDSYQXJ91\",\"01J1PQD1CSZKAGEE3DDSYQXJ91\",\"01J1PQD1CSZKAGEE3DDSYQXJ91\",\"01J1PQDFARHRMVWV8A1DEXX21N\",\"01J1PQDFARHRMVWV8A1DEXX21N\",\"01J1PQDFARHRMVWV8A1DEXX21N\",\"01J1PQDFARHRMVWV8A1DEXX21N\",\"01J1PQDZBVP5JRHASGDY7K5W3X\",\"01J1PQDZBVP5JRHASGDY7K5W3X\",\"01J1PQDZBVP5JRHASGDY7K5W3X\",\"01J1PQDZBVP5JRHASGDY7K5W3X\",\"01J1PQEQ6C1RXXPKGVDQAHW8WB\",\"01J1PQEQ6C1RXXPKGVDQAHW8WB\",\"01J1PQEQ6C1RXXPKGVDQAHW8WB\",\"01J1PQEQ6C1RXXPKGVDQAHW8WB\",\"01J1PQF5R65GZK868NVEDVZ849\",\"01J1PQF5R65GZK868NVEDVZ849\",\"01J1PQF5R65GZK868NVEDVZ849\",\"01J1PQF5R65GZK868NVEDVZ849\",\"01J1PQFMVMXG1345974DFC10NC\",\"01J1PQFMVMXG1345974DFC10NC\",\"01J1PQFMVMXG1345974DFC10NC\",\"01J1PQFMVMXG1345974DFC10NC\",\"01J1PQG4S60Z1TC86ZSABTD77S\",\"01J1PQG4S60Z1TC86ZSABTD77S\",\"01J1PQG4S60Z1TC86ZSABTD77S\",\"01J1PQG4S60Z1TC86ZSABTD77S\",\"01J1PQGKJ1NA6KGVT0HCGDBXBH\",\"01J1PQGKJ1NA6KGVT0HCGDBXBH\",\"01J1PQGKJ1NA6KGVT0HCGDBXBH\",\"01J1PQGKJ1NA6KGVT0HCGDBXBH\",\"01J1PQH2BWJJQ4A599EB8CZXC4\",\"01J1PQH2BWJJQ4A599EB8CZXC4\",\"01J1PQH2BWJJQ4A599EB8CZXC4\",\"01J1PQH2BWJJQ4A599EB8CZXC4\",\"01J1PQHF5GN134GK8DWS98QNCZ\",\"01J1PQHF5GN134GK8DWS98QNCZ\",\"01J1PQHF5GN134GK8DWS98QNCZ\",\"01J1PQHF5GN134GK8DWS98QNCZ\",\"01J1PQHWSAT6F1T013207E76DH\",\"01J1PQHWSAT6F1T013207E76DH\",\"01J1PQHWSAT6F1T013207E76DH\",\"01J1PQHWSAT6F1T013207E76DH\",\"01J1PQJH25VTT743VE2W7D0FDQ\",\"01J1PQJH25VTT743VE2W7D0FDQ\",\"01J1PQJH25VTT743VE2W7D0FDQ\",\"01J1PQJH25VTT743VE2W7D0FDQ\",\"01J1PQK7DQB0JEDB0X7D6MCHMB\",\"01J1PQK7DQB0JEDB0X7D6MCHMB\",\"01J1PQK7DQB0JEDB0X7D6MCHMB\",\"01J1PQK7DQB0JEDB0X7D6MCHMB\",\"01J1PQKWWW5QV7RBTF8KSSBZ23\",\"01J1PQKWWW5QV7RBTF8KSSBZ23\",\"01J1PQKWWW5QV7RBTF8KSSBZ23\",\"01J1PQKWWW5QV7RBTF8KSSBZ23\",\"01J1PQMG7N8AZNZFKAMQ1PE64K\",\"01J1PQMG7N8AZNZFKAMQ1PE64K\",\"01J1PQMG7N8AZNZFKAMQ1PE64K\",\"01J1PQMG7N8AZNZFKAMQ1PE64K\",\"01J1PQMWYQPBH381SXMDJGSY24\",\"01J1PQMWYQPBH381SXMDJGSY24\",\"01J1PQMWYQPBH381SXMDJGSY24\",\"01J1PQMWYQPBH381SXMDJGSY24\",\"01J1PQND963CWNZMYMW7ZSPPKF\",\"01J1PQND963CWNZMYMW7ZSPPKF\",\"01J1PQND963CWNZMYMW7ZSPPKF\",\"01J1PQND963CWNZMYMW7ZSPPKF\",\"01J1PQP1VDHD3A8G0PHNGKVG7H\",\"01J1PQP1VDHD3A8G0PHNGKVG7H\",\"01J1PQP1VDHD3A8G0PHNGKVG7H\",\"01J1PQP1VDHD3A8G0PHNGKVG7H\",\"01J1PQPJK33BKB5QF911C90Q9G\",\"01J1PQPJK33BKB5QF911C90Q9G\",\"01J1PQPJK33BKB5QF911C90Q9G\",\"01J1PQPJK33BKB5QF911C90Q9G\",\"01J1PQQCHNMQ8SPRV1R2PAX8XN\",\"01J1PQQCHNMQ8SPRV1R2PAX8XN\",\"01J1PQQCHNMQ8SPRV1R2PAX8XN\",\"01J1PQQCHNMQ8SPRV1R2PAX8XN\",\"01J1Q9R5P76KPZ5BH09M3K13JQ\",\"01J1Q9RT6B1RM7W0Q5G0E6SFDK\",\"01J1Q9RT6B1RM7W0Q5G0E6SFDK\",\"01J1Q9RT6B1RM7W0Q5G0E6SFDK\",\"01J1Q9RT6B1RM7W0Q5G0E6SFDK\",\"01J1Q9S5V3TSW25FX265ND13GQ\",\"01J1Q9S5V3TSW25FX265ND13GQ\",\"01J1Q9S5V3TSW25FX265ND13GQ\",\"01J1Q9S5V3TSW25FX265ND13GQ\",\"01J1Q9SQ6Y1MY1K01MZMSFYNW4\",\"01J1Q9SQ6Y1MY1K01MZMSFYNW4\",\"01J1Q9SQ6Y1MY1K01MZMSFYNW4\",\"01J1Q9SQ6Y1MY1K01MZMSFYNW4\",\"01J1Q9TKSKCP569VQRMAPC4JT8\",\"01J1Q9TKSKCP569VQRMAPC4JT8\",\"01J1Q9TKSKCP569VQRMAPC4JT8\",\"01J1Q9TKSKCP569VQRMAPC4JT8\",\"01J1Q9V9D9X3ZHF63BSDW4DG0K\",\"01J1Q9V9D9X3ZHF63BSDW4DG0K\",\"01J1Q9V9D9X3ZHF63BSDW4DG0K\",\"01J1Q9V9D9X3ZHF63BSDW4DG0K\",\"01J1Q9VJSQ90H14QM5ZQFDE1JA\",\"01J1Q9VJSQ90H14QM5ZQFDE1JA\",\"01J1Q9VJSQ90H14QM5ZQFDE1JA\",\"01J1Q9VJSQ90H14QM5ZQFDE1JA\",\"01J1Q9WEX6MG652K8YT03G0JV7\",\"01J1Q9WEX6MG652K8YT03G0JV7\",\"01J1Q9WEX6MG652K8YT03G0JV7\",\"01J1Q9WEX6MG652K8YT03G0JV7\",\"01J1Q9WV33N9DZNCHPVB75KB0V\",\"01J1Q9WV33N9DZNCHPVB75KB0V\",\"01J1Q9WV33N9DZNCHPVB75KB0V\",\"01J1Q9WV33N9DZNCHPVB75KB0V\",\"01J1Q9XE0XM27SRKG7E6GPN3PB\",\"01J1Q9XE0XM27SRKG7E6GPN3PB\",\"01J1Q9XE0XM27SRKG7E6GPN3PB\",\"01J1Q9XE0XM27SRKG7E6GPN3PB\",\"01J1Q9Y08MJ4DCKAG53GF5ZA4T\",\"01J1Q9Y08MJ4DCKAG53GF5ZA4T\",\"01J1Q9Y08MJ4DCKAG53GF5ZA4T\",\"01J1Q9Y08MJ4DCKAG53GF5ZA4T\",\"01J1Q9YRTQVBP019CK4A218AHF\",\"01J1Q9YRTQVBP019CK4A218AHF\",\"01J1Q9YRTQVBP019CK4A218AHF\",\"01J1Q9YRTQVBP019CK4A218AHF\",\"01J1Q9ZAKHT1FBZK68FKMNAWWC\",\"01J1Q9ZAKHT1FBZK68FKMNAWWC\",\"01J1Q9ZAKHT1FBZK68FKMNAWWC\",\"01J1Q9ZAKHT1FBZK68FKMNAWWC\",\"01J1QA00NMJJ8X7QETWJPZ6B8B\",\"01J1QA00NMJJ8X7QETWJPZ6B8B\",\"01J1QA00NMJJ8X7QETWJPZ6B8B\",\"01J1QA00NMJJ8X7QETWJPZ6B8B\",\"01J1QA2MCR0RRZ5R5HDQNJQWY4\",\"01J1QA2MCR0RRZ5R5HDQNJQWY4\",\"01J1QA2MCR0RRZ5R5HDQNJQWY4\",\"01J1QA2MCR0RRZ5R5HDQNJQWY4\",\"01J1QA386S6J34A0XJ1ESHRWYT\",\"01J1QA386S6J34A0XJ1ESHRWYT\",\"01J1QA386S6J34A0XJ1ESHRWYT\",\"01J1QA386S6J34A0XJ1ESHRWYT\",\"01J1QA3XNPZKKK6ZCBWY5W1T9Q\",\"01J1QA3XNPZKKK6ZCBWY5W1T9Q\",\"01J1QA3XNPZKKK6ZCBWY5W1T9Q\",\"01J1QA3XNPZKKK6ZCBWY5W1T9Q\",\"01J1QA4N7CX7BWTNFD88W4NNHV\",\"01J1QA4N7CX7BWTNFD88W4NNHV\",\"01J1QA4N7CX7BWTNFD88W4NNHV\",\"01J1QA4N7CX7BWTNFD88W4NNHV\",\"01J1QA57FXNA17HWZ5FY5JAZWK\",\"01J1QA57FXNA17HWZ5FY5JAZWK\",\"01J1QA57FXNA17HWZ5FY5JAZWK\",\"01J1QA57FXNA17HWZ5FY5JAZWK\"],\"photo\":null,\"state\":\"Federal District\",\"country\":\"Brazil\",\"city\":\"Brasília\",\"userId\":\"7fa3d5a4-20be-496e-a90e-d4336297dcc3\"}";
}